<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–í–ö CRAMER - –≠–ª–∏—Ç–Ω—ã–µ —á–∞—Å—Ç–Ω—ã–µ –≤–æ–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è</title>
    
    <!-- –ò–∫–æ–Ω–∫–∞ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23228B22'/><text x='50' y='70' font-size='60' text-anchor='middle' fill='white'>C</text></svg>">
    
    <style>
        /* –í–µ—Å—å –≤–∞—à –ø—Ä–µ–¥—ã–¥—É—â–∏–π CSS –æ—Å—Ç–∞–µ—Ç—Å—è */

        /* –°–¢–ò–õ–ò –î–õ–Ø –°–ò–°–¢–ï–ú–´ –û–ü–ï–†–ê–¶–ò–ô */
        
        /* –ö–∞—Ä—É—Å–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–π */
        .operations-carousel {
            position: relative;
            max-width: 1000px;
            margin: 2rem auto;
            overflow: hidden;
            border-radius: 10px;
            background: var(--medium-bg);
            padding: 2rem;
        }

        .carousel-container {
            display: flex;
            transition: transform 0.5s ease;
            gap: 1rem;
        }

        .carousel-item {
            min-width: 100%;
            background: var(--light-bg);
            border-radius: 8px;
            padding: 1.5rem;
            border: 2px solid var(--primary-color);
            display: none;
        }

        .carousel-item.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .carousel-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .carousel-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .carousel-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .carousel-indicators {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #666;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: var(--primary-color);
            transform: scale(1.2);
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ */
        .operation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 4000;
            overflow-y: auto;
            padding: 20px;
        }

        .operation-modal-content {
            background: var(--dark-bg);
            max-width: 900px;
            margin: 2rem auto;
            border-radius: 10px;
            border: 2px solid var(--primary-color);
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .operation-media {
            width: 100%;
            height: 300px;
            overflow: hidden;
            border-radius: 8px 8px 0 0;
        }

        .operation-media img,
        .operation-media video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .operation-details {
            padding: 2rem;
        }

        .operation-details h3 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .operation-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--medium-bg);
            border-radius: 5px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
        }

        .meta-label {
            color: var(--text-color);
            opacity: 0.8;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .meta-value {
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .operation-description {
            line-height: 1.8;
            margin: 1.5rem 0;
            font-size: 1.1rem;
        }

        .participants-list {
            margin: 1.5rem 0;
        }

        .participants-list h4 {
            color: var(--gold-color);
            margin-bottom: 1rem;
        }

        .participants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
        }

        .participant {
            background: var(--medium-bg);
            padding: 1rem;
            border-radius: 5px;
            text-align: center;
            border-left: 3px solid var(--secondary-color);
        }

        /* –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ */
        .admin-panel {
            background: var(--medium-bg);
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem auto;
            max-width: 1000px;
            border: 2px solid var(--gold-color);
        }

        .admin-panel h3 {
            color: var(--gold-color);
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            text-transform: uppercase;
        }

        .admin-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .admin-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .admin-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .admin-btn.delete {
            background: #dc3545;
        }

        .admin-btn.delete:hover {
            background: #c82333;
        }

        /* –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ */
        .add-operation-form {
            background: var(--light-bg);
            padding: 2rem;
            border-radius: 8px;
            margin-top: 2rem;
            display: none;
        }

        .add-operation-form.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        /* –°–µ–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π */
        .operations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .admin-toggle {
            background: var(--gold-color);
            color: var(--dark-bg);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .admin-toggle:hover {
            background: #daa520;
            transform: translateY(-2px);
        }

        /* –°—Ç–∞—Ç—É—Å—ã –æ–ø–µ—Ä–∞—Ü–∏–π */
        .operation-status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 1rem;
        }

        .status-planning { background: #ffc107; color: #000; }
        .status-active { background: #17a2b8; color: #fff; }
        .status-completed { background: #28a745; color: #fff; }
        .status-cancelled { background: #dc3545; color: #fff; }
        .status-classified { background: #6c757d; color: #fff; }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .operations-carousel {
                padding: 1rem;
            }
            
            .operation-modal-content {
                margin: 1rem auto;
            }
            
            .operation-details {
                padding: 1rem;
            }
            
            .admin-panel {
                padding: 1rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .participants-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification"></div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
    <div id="operationModal" class="operation-modal">
        <div class="operation-modal-content">
            <span class="close" onclick="closeOperationModal()" style="position: absolute; right: 20px; top: 20px; font-size: 2rem; color: var(--primary-color); cursor: pointer; z-index: 100;">&times;</span>
            
            <div id="operationMedia" class="operation-media">
                <!-- –í–∏–¥–µ–æ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ —Å—é–¥–∞ -->
            </div>
            
            <div class="operation-details">
                <h3 id="operationTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
                <div id="operationStatus" class="operation-status"></div>
                
                <div class="operation-meta" id="operationMeta">
                    <!-- –ú–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
                </div>
                
                <div class="operation-description" id="operationDescription">
                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                </div>
                
                <div class="participants-list" id="operationParticipants">
                    <!-- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
                </div>
            </div>
        </div>
    </div>

    <!-- –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π HTML –∫–æ–¥ (Header, Hero, About, Units) -->

    <!-- Operations Section -->
    <section id="operations" class="operations">
        <div class="container">
            <div class="operations-header">
                <h2 class="section-title">–û–ø–µ—Ä–∞—Ü–∏–∏ CRAMER</h2>
                <div class="admin-toggle" onclick="toggleAdminPanel()">
                    <span>‚öôÔ∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</span>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
            <div id="adminPanel" class="admin-panel" style="display: none;">
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</h3>
                
                <div class="admin-controls">
                    <button class="admin-btn" onclick="showAddOperationForm()">
                        <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
                    </button>
                    <button class="admin-btn" onclick="loadOperationsFromStorage()">
                        <span>üîÑ</span> –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
                    </button>
                    <button class="admin-btn delete" onclick="clearAllOperations()">
                        <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                    </button>
                </div>

                <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                <div id="addOperationForm" class="add-operation-form">
                    <form id="newOperationForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ *</label>
                                <input type="text" id="opName" required maxlength="100">
                            </div>
                            <div class="form-group">
                                <label>–ö–æ–¥–æ–≤–æ–µ –∏–º—è</label>
                                <input type="text" id="opCodename" maxlength="50">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>–°—Ç–∞—Ç—É—Å *</label>
                                <select id="opStatus" required>
                                    <option value="planning">üü° –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                                    <option value="active">üîµ –ê–∫—Ç–∏–≤–Ω–∞—è</option>
                                    <option value="completed">üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                                    <option value="cancelled">üî¥ –û—Ç–º–µ–Ω–µ–Ω–∞</option>
                                    <option value="classified">‚ö´ –ó–∞—Å–µ–∫—Ä–µ—á–µ–Ω–∞</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                                <select id="opPriority">
                                    <option value="low">–ù–∏–∑–∫–∏–π</option>
                                    <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                                    <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                                    <option value="critical">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
                                <input type="date" id="opStartDate">
                            </div>
                            <div class="form-group">
                                <label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
                                <input type="date" id="opEndDate">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</label>
                                <input type="text" id="opLocation" maxlength="200">
                            </div>
                            <div class="form-group">
                                <label>–ó–∞–∫–∞–∑—á–∏–∫</label>
                                <input type="text" id="opClient" maxlength="100">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ù–∞–≥—Ä–∞–¥–∞ ($)</label>
                                <input type="number" id="opReward" min="0" step="1000">
                            </div>
                            <div class="form-group">
                                <label>–†–∏—Å–∫</label>
                                <select id="opRisk">
                                    <option value="low">–ù–∏–∑–∫–∏–π</option>
                                    <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                                    <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                                    <option value="extreme">–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>–û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ *</label>
                            <textarea id="opDescription" rows="4" required maxlength="2000"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>–£—á–∞—Å—Ç–Ω–∏–∫–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                            <textarea id="opParticipants" rows="3" placeholder="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (–ü–æ–∑—ã–≤–Ω–æ–π), –ê–ª–µ–∫—Å–µ–π –°–∏–¥–æ—Ä–æ–≤ (–ü–æ–∑—ã–≤–Ω–æ–π)" maxlength="1000"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
                            <textarea id="opResult" rows="3" maxlength="1000"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL)</label>
                                <input type="url" id="opImageUrl" placeholder="https://example.com/image.jpg">
                            </div>
                            <div class="form-group">
                                <label>–í–∏–¥–µ–æ (URL)</label>
                                <input type="url" id="opVideoUrl" placeholder="https://example.com/video.mp4">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="cta-button" onclick="hideAddOperationForm()" style="background: #666;">
                                –û—Ç–º–µ–Ω–∞
                            </button>
                            <button type="submit" class="cta-button">
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- –ö–∞—Ä—É—Å–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–π -->
            <div class="operations-carousel">
                <div id="operationsContainer" class="carousel-container">
                    <!-- –û–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
                </div>
                
                <div class="carousel-nav">
                    <button class="carousel-btn" onclick="prevOperation()">‚óÄ –ù–∞–∑–∞–¥</button>
                    <button class="carousel-btn" onclick="nextOperation()">–í–ø–µ—Ä—ë–¥ ‚ñ∂</button>
                </div>
                
                <div id="carouselIndicators" class="carousel-indicators">
                    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </section>

    <!-- –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π HTML –∫–æ–¥ (Recruitment, Footer) -->

    <script>
        // üîê –°–ò–°–¢–ï–ú–ê –û–ü–ï–†–ê–¶–ò–ô –î–õ–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–í
        
        // –î–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–π (—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage)
        let operations = [];
        let currentOperationIndex = 0;
        let isAdminMode = false;

        // –°—Ç–∞—Ç—É—Å—ã –æ–ø–µ—Ä–∞—Ü–∏–π
        const STATUSES = {
            planning: { text: 'üü° –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ', class: 'status-planning' },
            active: { text: 'üîµ –ê–∫—Ç–∏–≤–Ω–∞—è', class: 'status-active' },
            completed: { text: 'üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω–∞', class: 'status-completed' },
            cancelled: { text: 'üî¥ –û—Ç–º–µ–Ω–µ–Ω–∞', class: 'status-cancelled' },
            classified: { text: '‚ö´ –ó–∞—Å–µ–∫—Ä–µ—á–µ–Ω–∞', class: 'status-classified' }
        };

        // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
        const PRIORITIES = {
            low: { text: '–ù–∏–∑–∫–∏–π', color: '#28a745' },
            medium: { text: '–°—Ä–µ–¥–Ω–∏–π', color: '#ffc107' },
            high: { text: '–í—ã—Å–æ–∫–∏–π', color: '#fd7e14' },
            critical: { text: '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π', color: '#dc3545' }
        };

        // –†–∏—Å–∫–∏
        const RISKS = {
            low: { text: '–ù–∏–∑–∫–∏–π', color: '#28a745' },
            medium: { text: '–°—Ä–µ–¥–Ω–∏–π', color: '#ffc107' },
            high: { text: '–í—ã—Å–æ–∫–∏–π', color: '#fd7e14' },
            extreme: { text: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π', color: '#dc3545' }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadOperations();
            renderOperations();
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
            document.getElementById('newOperationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveNewOperation();
            });
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ localStorage
        function loadOperations() {
            const saved = localStorage.getItem('cramer_operations');
            if (saved) {
                try {
                    operations = JSON.parse(saved);
                    console.log('üìÇ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –æ–ø–µ—Ä–∞—Ü–∏–π:', operations.length);
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π:', e);
                    operations = [];
                }
            } else {
                // –ü—Ä–∏–º–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                operations = [
                    {
                        id: 1,
                        name: "–õ–µ–¥—è–Ω–∞—è –¢–∏—à–∏–Ω–∞",
                        codename: "ICE-SILENCE",
                        status: "completed",
                        priority: "high",
                        startDate: "2024-01-15",
                        endDate: "2024-01-18",
                        location: "–ê—Ä–∫—Ç–∏–∫–∞, –°–µ–≤–µ—Ä–Ω—ã–π –ø–æ–ª—é—Å",
                        client: "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ",
                        reward: 50000,
                        risk: "high",
                        description: "–ó–∞—Ö–≤–∞—Ç –∏ —ç–≤–∞–∫—É–∞—Ü–∏—è –≤—ã—Å–æ–∫–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Ü–µ–ª–∏ –≤ –∞—Ä–∫—Ç–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö. –û–ø–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–ª–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –Ω–∏–∑–∫–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ö.",
                        participants: ["–î—ç–Ω –ö—Ä–∞–º–µ—Ä (–ö–æ–º–∞–Ω–¥–∏—Ä)", "–ê–ª–µ–∫—Å–µ–π –í–æ—Ä–æ–Ω–æ–≤ (–°–Ω–∞–π–ø–µ—Ä)", "–ò–≤–∞–Ω –ú–æ–ª–æ—Ç–æ–≤ (–®—Ç—É—Ä–º–æ–≤–∏–∫)", "–ú–∏—Ö–∞–∏–ª –¢–µ–Ω—å (–†–∞–∑–≤–µ–¥—á–∏–∫)"],
                        result: "–¶–µ–ª—å —É—Å–ø–µ—à–Ω–æ —ç–≤–∞–∫—É–∏—Ä–æ–≤–∞–Ω–∞. –ü–æ—Ç–µ—Ä—å —Å—Ä–µ–¥–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏–∫–æ–≤ –Ω–µ—Ç. –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ 72 —á–∞—Å–∞.",
                        imageUrl: "",
                        videoUrl: "",
                        dateAdded: new Date().toISOString()
                    },
                    {
                        id: 2,
                        name: "–ü—É—Å—Ç—ã–Ω–Ω—ã–π –®—Ç–æ—Ä–º",
                        codename: "DESERT-STORM",
                        status: "active",
                        priority: "critical",
                        startDate: "2024-02-01",
                        location: "–ë–ª–∏–∂–Ω–∏–π –í–æ—Å—Ç–æ–∫",
                        client: "–ß–∞—Å—Ç–Ω—ã–π –∑–∞–∫–∞–∑—á–∏–∫",
                        reward: 75000,
                        risk: "extreme",
                        description: "–ó–∞—â–∏—Ç–∞ –Ω–µ—Ñ—Ç—è–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ—Ç –Ω–∞–ø–∞–¥–µ–Ω–∏—è –±–æ–µ–≤–∏–∫–æ–≤. –û–ø–µ—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç –æ–±–æ—Ä–æ–Ω—É –æ–±—ä–µ–∫—Ç–∞ –∏ –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—é —É–≥—Ä–æ–∑—ã.",
                        participants: ["–°–µ—Ä–≥–µ–π –Ø—Å—Ç—Ä–µ–± (–ö–æ–º–∞–Ω–¥–∏—Ä)", "–û–ª–µ–≥ –°–æ–∫–æ–ª (–°–ø–µ—Ü–Ω–∞–∑)", "–î–º–∏—Ç—Ä–∏–π –ë–µ—Ä–∫—É—Ç (–ü–æ–¥–¥–µ—Ä–∂–∫–∞)"],
                        result: "",
                        imageUrl: "",
                        videoUrl: "",
                        dateAdded: new Date().toISOString()
                    },
                    {
                        id: 3,
                        name: "–¢–∏—Ö–∞—è –û—Ö–æ—Ç–∞",
                        codename: "SILENT-HUNT",
                        status: "classified",
                        priority: "critical",
                        location: "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ",
                        client: "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑",
                        description: "‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà",
                        participants: [],
                        result: "",
                        imageUrl: "",
                        videoUrl: "",
                        dateAdded: new Date().toISOString()
                    }
                ];
                saveOperations();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ localStorage
        function saveOperations() {
            localStorage.setItem('cramer_operations', JSON.stringify(operations));
            console.log('üíæ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:', operations.length);
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∫–∞—Ä—É—Å–µ–ª–∏
        function renderOperations() {
            const container = document.getElementById('operationsContainer');
            const indicators = document.getElementById('carouselIndicators');
            
            container.innerHTML = '';
            indicators.innerHTML = '';
            
            if (operations.length === 0) {
                container.innerHTML = `
                    <div class="carousel-item active">
                        <div style="text-align: center; padding: 3rem;">
                            <h3 style="color: #666;">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
                            <p>–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
                            <button class="cta-button" onclick="toggleAdminPanel()">
                                –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                            </button>
                        </div>
                    </div>
                `;
                return;
            }
            
            operations.forEach((op, index) => {
                // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏
                const card = document.createElement('div');
                card.className = `carousel-item ${index === 0 ? 'active' : ''}`;
                card.innerHTML = createOperationCard(op);
                container.appendChild(card);
                
                // –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
                const indicator = document.createElement('div');
                indicator.className = `indicator ${index === 0 ? 'active' : ''}`;
                indicator.onclick = () => showOperation(index);
                indicators.appendChild(indicator);
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å
            currentOperationIndex = 0;
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
        function createOperationCard(operation) {
            const status = STATUSES[operation.status] || STATUSES.classified;
            const priority = PRIORITIES[operation.priority] || PRIORITIES.medium;
            
            return `
                <div class="operation-card">
                    <div class="operation-card-header">
                        <span class="operation-status ${status.class}">${status.text}</span>
                        <span class="status" style="background: ${priority.color}">${priority.text} –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</span>
                    </div>
                    
                    <h3>${operation.name}</h3>
                    ${operation.codename ? `<p style="color: #888; font-style: italic;">–ö–æ–¥–æ–≤–æ–µ –∏–º—è: ${operation.codename}</p>` : ''}
                    
                    <div class="operation-info">
                        ${operation.location ? `<p><strong>üìç –ú–µ—Å—Ç–æ:</strong> ${operation.location}</p>` : ''}
                        ${operation.client ? `<p><strong>üë• –ó–∞–∫–∞–∑—á–∏–∫:</strong> ${operation.client}</p>` : ''}
                        ${operation.startDate ? `<p><strong>üìÖ –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</strong> ${formatDate(operation.startDate)}</p>` : ''}
                        ${operation.reward ? `<p><strong>üí∞ –ù–∞–≥—Ä–∞–¥–∞:</strong> $${operation.reward.toLocaleString()}</p>` : ''}
                    </div>
                    
                    <p>${operation.description.substring(0, 200)}${operation.description.length > 200 ? '...' : ''}</p>
                    
                    <div class="operation-actions">
                        <button class="cta-button" onclick="viewOperationDetails(${operation.id})" style="width: 100%; margin-top: 1rem;">
                            üîç –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        
                        ${isAdminMode ? `
                            <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                                <button class="cta-button" onclick="editOperation(${operation.id})" style="flex: 1; background: #17a2b8;">
                                    ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                </button>
                                <button class="cta-button" onclick="deleteOperation(${operation.id})" style="flex: 1; background: #dc3545;">
                                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
        function viewOperationDetails(id) {
            const operation = operations.find(op => op.id === id);
            if (!operation) return;
            
            const status = STATUSES[operation.status] || STATUSES.classified;
            const priority = PRIORITIES[operation.priority] || PRIORITIES.medium;
            const risk = RISKS[operation.risk] || RISKS.medium;
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            document.getElementById('operationTitle').textContent = operation.name;
            
            // –°—Ç–∞—Ç—É—Å
            const statusEl = document.getElementById('operationStatus');
            statusEl.textContent = status.text;
            statusEl.className = `operation-status ${status.class}`;
            
            // –ú–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ
            const metaEl = document.getElementById('operationMeta');
            metaEl.innerHTML = `
                ${operation.codename ? `
                    <div class="meta-item">
                        <span class="meta-label">–ö–æ–¥–æ–≤–æ–µ –∏–º—è</span>
                        <span class="meta-value">${operation.codename}</span>
                    </div>
                ` : ''}
                
                ${operation.startDate ? `
                    <div class="meta-item">
                        <span class="meta-label">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</span>
                        <span class="meta-value">${formatDate(operation.startDate)}</span>
                    </div>
                ` : ''}
                
                ${operation.endDate ? `
                    <div class="meta-item">
                        <span class="meta-label">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</span>
                        <span class="meta-value">${formatDate(operation.endDate)}</span>
                    </div>
                ` : ''}
                
                ${operation.location ? `
                    <div class="meta-item">
                        <span class="meta-label">–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</span>
                        <span class="meta-value">${operation.location}</span>
                    </div>
                ` : ''}
                
                <div class="meta-item">
                    <span class="meta-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</span>
                    <span class="meta-value" style="color: ${priority.color}">${priority.text}</span>
                </div>
                
                <div class="meta-item">
                    <span class="meta-label">–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞</span>
                    <span class="meta-value" style="color: ${risk.color}">${risk.text}</span>
                </div>
                
                ${operation.client ? `
                    <div class="meta-item">
                        <span class="meta-label">–ó–∞–∫–∞–∑—á–∏–∫</span>
                        <span class="meta-value">${operation.client}</span>
                    </div>
                ` : ''}
                
                ${operation.reward ? `
                    <div class="meta-item">
                        <span class="meta-label">–ù–∞–≥—Ä–∞–¥–∞</span>
                        <span class="meta-value">$${operation.reward.toLocaleString()}</span>
                    </div>
                ` : ''}
            `;
            
            // –û–ø–∏—Å–∞–Ω–∏–µ
            document.getElementById('operationDescription').innerHTML = `
                <h4 style="color: var(--gold-color); margin-bottom: 0.5rem;">–û–ø–µ—Ä–∞—Ü–∏—è</h4>
                <p>${operation.description}</p>
                
                ${operation.result ? `
                    <h4 style="color: #32a852; margin: 1.5rem 0 0.5rem 0;">–†–µ–∑—É–ª—å—Ç–∞—Ç</h4>
                    <p>${operation.result}</p>
                ` : ''}
            `;
            
            // –£—á–∞—Å—Ç–Ω–∏–∫–∏
            const participantsEl = document.getElementById('operationParticipants');
            if (operation.participants && operation.participants.length > 0) {
                participantsEl.innerHTML = `
                    <h4>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ (${operation.participants.length})</h4>
                    <div class="participants-grid">
                        ${operation.participants.map(p => `
                            <div class="participant">
                                <div style="font-weight: bold;">${p}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else {
                participantsEl.innerHTML = '';
            }
            
            // –ú–µ–¥–∏–∞
            const mediaEl = document.getElementById('operationMedia');
            if (operation.videoUrl) {
                mediaEl.innerHTML = `
                    <video controls style="width: 100%; height: 100%;">
                        <source src="${operation.videoUrl}" type="video/mp4">
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                    </video>
                `;
            } else if (operation.imageUrl) {
                mediaEl.innerHTML = `<img src="${operation.imageUrl}" alt="${operation.name}" style="width: 100%; height: 100%; object-fit: cover;">`;
            } else {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–ª—É—à–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
                let placeholder = 'üåç';
                let bgColor = '#1a1a1a';
                
                switch(operation.status) {
                    case 'completed':
                        placeholder = '‚úÖ';
                        bgColor = '#1a2a1a';
                        break;
                    case 'active':
                        placeholder = 'üéØ';
                        bgColor = '#1a2a2a';
                        break;
                    case 'planning':
                        placeholder = 'üìã';
                        bgColor = '#2a2a1a';
                        break;
                    case 'classified':
                        placeholder = 'üîí';
                        bgColor = '#2a1a2a';
                        break;
                }
                
                mediaEl.innerHTML = `
                    <div style="width: 100%; height: 100%; background: ${bgColor}; display: flex; align-items: center; justify-content: center; font-size: 5rem;">
                        ${placeholder}
                    </div>
                `;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('operationModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeOperationModal() {
            document.getElementById('operationModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ
            const video = document.querySelector('#operationModal video');
            if (video) {
                video.pause();
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ä—É—Å–µ–ª–∏
        function showOperation(index) {
            if (index < 0 || index >= operations.length) return;
            
            const items = document.querySelectorAll('.carousel-item');
            const indicators = document.querySelectorAll('.indicator');
            
            items.forEach(item => item.classList.remove('active'));
            indicators.forEach(ind => ind.classList.remove('active'));
            
            items[index].classList.add('active');
            indicators[index].classList.add('active');
            currentOperationIndex = index;
        }

        function prevOperation() {
            let newIndex = currentOperationIndex - 1;
            if (newIndex < 0) newIndex = operations.length - 1;
            showOperation(newIndex);
        }

        function nextOperation() {
            let newIndex = currentOperationIndex + 1;
            if (newIndex >= operations.length) newIndex = 0;
            showOperation(newIndex);
        }

        // –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            const isVisible = panel.style.display === 'block';
            
            if (isVisible) {
                panel.style.display = 'none';
                isAdminMode = false;
                showNotification('üîí –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–∞', 'info');
            } else {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä–æ–ª—å
                const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:');
                if (password === CORRECT_PASSWORD) {
                    panel.style.display = 'block';
                    isAdminMode = true;
                    showNotification('üîì –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–∞', 'success');
                } else {
                    showNotification('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å', 'error');
                }
            }
            
            renderOperations();
        }

        // –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
        function showAddOperationForm() {
            document.getElementById('addOperationForm').classList.add('active');
        }

        function hideAddOperationForm() {
            document.getElementById('addOperationForm').classList.remove('active');
            document.getElementById('newOperationForm').reset();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
        function saveNewOperation() {
            const form = document.getElementById('newOperationForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            const newOperation = {
                id: generateOperationId(),
                name: document.getElementById('opName').value,
                codename: document.getElementById('opCodename').value,
                status: document.getElementById('opStatus').value,
                priority: document.getElementById('opPriority').value,
                startDate: document.getElementById('opStartDate').value,
                endDate: document.getElementById('opEndDate').value,
                location: document.getElementById('opLocation').value,
                client: document.getElementById('opClient').value,
                reward: parseInt(document.getElementById('opReward').value) || 0,
                risk: document.getElementById('opRisk').value,
                description: document.getElementById('opDescription').value,
                participants: document.getElementById('opParticipants').value
                    .split(',')
                    .map(p => p.trim())
                    .filter(p => p.length > 0),
                result: document.getElementById('opResult').value,
                imageUrl: document.getElementById('opImageUrl').value,
                videoUrl: document.getElementById('opVideoUrl').value,
                dateAdded: new Date().toISOString()
            };
            
            operations.push(newOperation);
            saveOperations();
            renderOperations();
            hideAddOperationForm();
            
            showNotification('‚úÖ –û–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞', 'success');
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        function editOperation(id) {
            const operation = operations.find(op => op.id === id);
            if (!operation) return;
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('opName').value = operation.name;
            document.getElementById('opCodename').value = operation.codename || '';
            document.getElementById('opStatus').value = operation.status;
            document.getElementById('opPriority').value = operation.priority || 'medium';
            document.getElementById('opStartDate').value = operation.startDate || '';
            document.getElementById('opEndDate').value = operation.endDate || '';
            document.getElementById('opLocation').value = operation.location || '';
            document.getElementById('opClient').value = operation.client || '';
            document.getElementById('opReward').value = operation.reward || '';
            document.getElementById('opRisk').value = operation.risk || 'medium';
            document.getElementById('opDescription').value = operation.description;
            document.getElementById('opParticipants').value = operation.participants.join(', ');
            document.getElementById('opResult').value = operation.result || '';
            document.getElementById('opImageUrl').value = operation.imageUrl || '';
            document.getElementById('opVideoUrl').value = operation.videoUrl || '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            showAddOperationForm();
            
            // –ò–∑–º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            const submitBtn = document.querySelector('#newOperationForm button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '–û–±–Ω–æ–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é';
            submitBtn.onclick = function(e) {
                e.preventDefault();
                updateOperation(id);
                submitBtn.textContent = originalText;
                submitBtn.onclick = null;
            };
        }

        function updateOperation(id) {
            const index = operations.findIndex(op => op.id === id);
            if (index === -1) return;
            
            operations[index] = {
                id: id,
                name: document.getElementById('opName').value,
                codename: document.getElementById('opCodename').value,
                status: document.getElementById('opStatus').value,
                priority: document.getElementById('opPriority').value,
                startDate: document.getElementById('opStartDate').value,
                endDate: document.getElementById('opEndDate').value,
                location: document.getElementById('opLocation').value,
                client: document.getElementById('opClient').value,
                reward: parseInt(document.getElementById('opReward').value) || 0,
                risk: document.getElementById('opRisk').value,
                description: document.getElementById('opDescription').value,
                participants: document.getElementById('opParticipants').value
                    .split(',')
                    .map(p => p.trim())
                    .filter(p => p.length > 0),
                result: document.getElementById('opResult').value,
                imageUrl: document.getElementById('opImageUrl').value,
                videoUrl: document.getElementById('opVideoUrl').value,
                dateAdded: operations[index].dateAdded,
                dateUpdated: new Date().toISOString()
            };
            
            saveOperations();
            renderOperations();
            hideAddOperationForm();
            
            showNotification('‚úÖ –û–ø–µ—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'success');
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        function deleteOperation(id) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é?')) return;
            
            operations = operations.filter(op => op.id !== id);
            saveOperations();
            renderOperations();
            
            showNotification('üóëÔ∏è –û–ø–µ—Ä–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞', 'success');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ localStorage
        function loadOperationsFromStorage() {
            loadOperations();
            renderOperations();
            showNotification('üîÑ –°–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω', 'info');
        }

        // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
        function clearAllOperations() {
            if (!confirm('‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–ï –æ–ø–µ—Ä–∞—Ü–∏–∏. –í—ã —É–≤–µ—Ä–µ–Ω—ã?')) return;
            
            operations = [];
            saveOperations();
            renderOperations();
            
            showNotification('üßπ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–¥–∞–ª–µ–Ω—ã', 'warning');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function generateOperationId() {
            return operations.length > 0 ? Math.max(...operations.map(op => op.id)) + 1 : 1;
        }

        function formatDate(dateString) {
            if (!dateString) return '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
            const date = new Date(dateString);
            return date.toLocaleDateString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let modal of modals) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            }
        };

        // –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–∞—Ä—É—Å–µ–ª–∏ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
        setInterval(() => {
            if (operations.length > 1 && !isAdminMode) {
                nextOperation();
            }
        }, 10000);
    </script>

    <!-- –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π JavaScript –∫–æ–¥ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π -->
</body>
</html>
